# =====================================================
# CONVERSOR MPP XML - ARQUIVO DE EXEMPLO
# =====================================================
# Este arquivo é SEGURO para versionamento (git)
# Contém APENAS placeholders - NENHUMA credencial real
# 
# INSTRUÇÕES:
# 1. Copie este arquivo para .env (NÃO commite .env)
# 2. Preencha com suas credenciais reais (NUNCA coloque credenciais reais em versionamento)
# 3. NUNCA commite .env no git (arquivo ignorado automaticamente)
# 4. Use .env.example como referência

# ============ SERVIDOR ============
PORT=3001
NODE_ENV=production
HOST=0.0.0.0

# ============ BANCO DE DADOS ============
# SQLite (desenvolvimento): file:./data/dev.db
# PostgreSQL (produção): postgresql://USER:PASSWORD@HOST:5432/DATABASE
# IMPORTANTE: Nunca coloque credenciais reais em código versionado
DATABASE_URL=file:./data/dev.db

# ============ NEXTAUTH / FRONTEND ============
# Gerar novo secret: openssl rand -base64 32
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=YOUR_RANDOM_SECRET_HERE_NEVER_COMMIT_REAL_VALUES

# Backend proxy
NEXT_PUBLIC_BACKEND_PROXY=http://127.0.0.1:3001

# ============ MERCADO PAGO - CREDENCIAIS SEGURAS ============
# ⚠️ NUNCA coloque credenciais reais em arquivo versionado!
# Obtenha em: https://www.mercadopago.com.br/settings/account/credentials
# Configure no servidor via variáveis de ambiente
MP_ACCESS_TOKEN=APP_USR-1234567890123456-abcdefghijklmnop
MP_PUBLIC_KEY=APP_USR-1234567890123456-abcdefghijklmnop
MERCADO_PAGO_WEBHOOK_SECRET=seu_webhook_secret_seguro_aqui
MERCADO_PAGO_ENVIRONMENT=production

# ============ URLs ============
APP_URL=https://seu-dominio.com
BACKEND_URL=https://seu-dominio.com

# ============ SEGURANÇA ============
# NUNCA coloque chaves reais aqui!
# Gerar JWT_SECRET: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=YOUR_RANDOM_SECRET_HERE
JWT_EXPIRATION_HOURS=24

# SESSION_SECRET: Gerar com openssl rand -hex 32
SESSION_SECRET=YOUR_RANDOM_SECRET_HERE

# ENCRYPTION_KEY: Gerar com openssl rand -hex 32
ENCRYPTION_KEY=YOUR_RANDOM_SECRET_HERE

# ============ ADMIN - SOMENTE BCRYPT HASH ============
# NUNCA armazene passwords em plain text!
# Gerar hash: node -e "require('bcryptjs').hash('PASSWORD_AQUI', 12).then(h => console.log(h))"
# Use APENAS o hash, NUNCA a senha original
ADMIN_PASSWORD_HASH=YOUR_BCRYPT_HASH_HERE
# 2. Rode o comando acima para gerar o hash
# 3. Cole o hash aqui
ADMIN_USERNAME=seu_usuario_admin_aqui
ADMIN_PASSWORD_HASH=seu_bcrypt_hash_aqui

# ============ MERCADO PAGO ============
# Obtenha credenciais em: https://www.mercadopago.com.br/settings/account/credentials
# Para testes: Use credenciais de sandbox primeiro
MERCADO_PAGO_CLIENT_ID=seu_client_id_aqui
MERCADO_PAGO_ACCESS_TOKEN=seu_access_token_aqui
MERCADO_PAGO_WEBHOOK_SECRET=seu_webhook_secret_aqui
MERCADO_PAGO_ENVIRONMENT=production

# ============ EMAIL (SMTP) ============
# Exemplo com Gmail:
# 1. Ativar 2-factor authentication em sua conta Google
# 2. Gerar "App Password" em https://myaccount.google.com/apppasswords
# 3. Usar a senha gerada como SMTP_PASSWORD
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu_email@gmail.com
SMTP_PASSWORD=sua_senha_app_aqui
SMTP_FROM=noreply@conversor-mpp.com
EMAIL_NOTIFICATIONS_ENABLED=true

# ============ CORS ============
# URLs permitidas para requisições cross-origin
# Separadas por vírgula
CORS_ORIGINS=http://localhost:3000,https://seu-dominio.com.br

# ============ LOGGING ============
# FIX #3: Medium priority - Winston Logger with Daily Rotation
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD

# ============ RATE LIMITING ============
# FIX #1: Medium priority - Rate limiter configuration
RATE_LIMIT_GLOBAL=100
RATE_LIMIT_UPLOAD=5

# ============ JOB QUEUE ============
# FIX #4: Medium priority - BullMQ Job timeout (milliseconds)
JOB_TIMEOUT_MS=300000

# ============ UPLOAD ============
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=104857600
MAX_CONCURRENT_CONVERSIONS=5
FILE_RETENTION_HOURS=24
CLEANUP_INTERVAL=3600000
